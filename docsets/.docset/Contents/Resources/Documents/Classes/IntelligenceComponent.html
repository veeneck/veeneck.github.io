<!DOCTYPE html>
<html lang="en">
  <head>
    <title>IntelligenceComponent Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Class/IntelligenceComponent" class="dashAnchor"></a>
    <a title="IntelligenceComponent Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">WithWarWoe Docs</a> (49% documented)</p>
        <p class="header-right"><a href=""><img src="../img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://http%3A%2F%2Fveeneck%2Egithub%2Eio%2Fdocsets%2F%2Exml"><img src="../img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">WithWarWoe Reference</a>
        <img id="carat" src="../img/carat.png" />
        IntelligenceComponent Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
              <a href="">Nodes</a>
              <ul class="nav-group-tasks">
                  <li class="nav-group-task">
                      <a href="/Classes/UINode.html"> UINode </a>
                  </li>
                  <li class="nav-group-task">
                      <a href="/Classes/EntitySpriteNode.html"> EntitySpriteNode </a>
                  </li>
              </ul>
          </li>
          <li class="nav-group-name">
              <a href="">Components</a>
              <ul class="nav-group-tasks">
                  <li class="nav-group-task">
                      <a href="/Classes/RenderComponent.html"> Render </a>
                  </li>
                  <li class="nav-group-task">
                      <a href="/Classes/PhysicsComponent.html"> Physics </a>
                  </li>
                  <li class="nav-group-task">
                      <a href="/Classes/IntelligenceComponent.html"> Intelligence </a>
                  </li>
              </ul>
          </li>
          <li class="nav-group-name">
          <a href="">Pathfinding</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="/Classes/Navmesh.html"> Navmesh </a>
              </li>
              <li class="nav-group-task">
                  <a href="/Classes/MeshObstacle.html"> MeshObstacle </a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
              <a href="">Physics</a>
              <ul class="nav-group-tasks">
                  <li class="nav-group-task">
                      <a href="/Classes/PhysicsHandler.html"> PhysicsHandler </a>
                  </li>
              </ul>
          </li>
          <li class="nav-group-name">
              <a href="">Extensions</a>
              <ul class="nav-group-tasks">
                  <li class="nav-group-task">
                      <a href="/Extensions/CGRect.html"> CGRect </a>
                  </li>
                  <li class="nav-group-task">
                      <a href="/Extensions/SKCameraNode.html"> SKCameraNode </a>
                  </li>
              </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>IntelligenceComponent</h1>
            <p>The state machine for a CharacterEntity. The various states and their intentions are:</p>

<ul>
<li><p><strong>Idle</strong>: Use minimal resources. Unit will only leave this if their leader is moving, or during a 3 second check. Last scenarion would
    be during an external command like attack in which case another piece of code would force the unit out of this state.</p></li>
<li><p><strong>Leading</strong>: The squad handles the logic for most orders, but one of the units has to be the dummy leader. The leader moves to this state. Leaders have slightly different checks. For example, when moving to a point
        the leader will follow a path while the followers seek an agent. So for group based actions, Leading is the state for leaders. During an individual action like attacking, all units will behave the same.</p></li>
<li><p><strong>Following</strong>: Main goal is to reach the orderedPosition of the UnitComponent. Runs logic checks to see if the unit is stuck or blocked, and moves / changes accordingly.</p></li>
<li><p><strong>Blocked</strong>: When the leader / squad orders a unit to an invalid position (i.e.: on a physics object) the unit will transfer to blocked state and decide what to do. Options are to wait, go back to idle if leader isn&rsquo;t moving,
        use steering to stay close by, etc.</p></li>
<li><p><strong>Catching Up</strong>: When a unit may be stuck this state is triggered. Stuck can be distance, or contact woth an environment object. When catching up, unit will use actual pathfinding and navmesh to find its way back.
            This is resource intensive, so only used for edge case scenarios.</p></li>
</ul>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
                <div class="task-name-container">
                  <a name="/Utility%20for%20Movement"></a>
                  <a name="//apple_ref/swift/Section/Utility for Movement" class="dashAnchor"></a>
                  <a href="#/Utility%20for%20Movement">
                    <h3 class="section-name">Utility for Movement</h3>
                  </a>
                </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC14With_War___Woe21IntelligenceComponent14leaderIsMovingFMS0_FCS_15CharacterEntitySb"></a>
                    <a name="//apple_ref/swift/Method/leaderIsMoving(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC14With_War___Woe21IntelligenceComponent14leaderIsMovingFMS0_FCS_15CharacterEntitySb">leaderIsMoving(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Checks to see if the leader has an active move assigned to it</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">class</span> <span class="kd">func</span> <span class="nf">leaderIsMoving</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="kt">CharacterEntity</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC14With_War___Woe21IntelligenceComponent15positionIsValidFMS0_FTCS_15CharacterEntity7desiredVSC7CGPoint_Sb"></a>
                    <a name="//apple_ref/swift/Method/positionIsValid(_:desired:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC14With_War___Woe21IntelligenceComponent15positionIsValidFMS0_FTCS_15CharacterEntity7desiredVSC7CGPoint_Sb">positionIsValid(_:desired:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Checks for a valid position on the navmesh</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">class</span> <span class="kd">func</span> <span class="nf">positionIsValid</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="kt">CharacterEntity</span><span class="p">,</span> <span class="nv">desired</span><span class="p">:</span><span class="kt">CGPoint</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC14With_War___Woe21IntelligenceComponent20hasArrivedAtPositionFMS0_FTCS_15CharacterEntity7desiredVSC7CGPoint6bufferV12CoreGraphics7CGFloat_T7arrivedSb8distanceS4__"></a>
                    <a name="//apple_ref/swift/Method/hasArrivedAtPosition(_:desired:buffer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC14With_War___Woe21IntelligenceComponent20hasArrivedAtPositionFMS0_FTCS_15CharacterEntity7desiredVSC7CGPoint6bufferV12CoreGraphics7CGFloat_T7arrivedSb8distanceS4__">hasArrivedAtPosition(_:desired:buffer:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>When an agent has arrived we can stop steering, so this is checked frequently.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">class</span> <span class="kd">func</span> <span class="nf">hasArrivedAtPosition</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="kt">CharacterEntity</span><span class="p">,</span> <span class="nv">desired</span><span class="p">:</span><span class="kt">CGPoint</span><span class="p">,</span> <span class="nv">buffer</span><span class="p">:</span><span class="kt">CGFloat</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">arrived</span><span class="p">:</span><span class="kt">Bool</span><span class="p">,</span> <span class="nv">distance</span><span class="p">:</span><span class="kt">CGFloat</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2015 <a class="link" href="" target="_blank" rel="external">Ryan Campbell</a>. All rights reserved. (Last updated: 2015-08-21)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.2.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
